(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(58)},30:function(e,t,n){},31:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),o=(n(30),n(31),n(62)),u=n(63),l=n(59),s=n(60),m=n(7),f=Object(m.a)(),p=n(12);function v(e){var t=e.data,n=e.onClick,a=e.onTitleClick;return r.a.createElement("div",{className:"movie-item"},r.a.createElement("div",{onClick:function(e){e.preventDefault(),n()}},r.a.createElement("img",{className:"movie-item-cover",src:t.images.small,alt:t.title})),r.a.createElement("p",{onClick:function(e){e.stopPropagation(),a()},className:"movie-item-title"},t.title))}v.defaultProps={onClick:function(){},onTitleClick:function(){}};var d=n(6),h=n.n(d),E=n(8),b=n(13),g=n.n(b);g.a.defaults.baseURL="https://easy-mock.com/mock/5b20fc50c0f62604c7cefdb9";var k=function(){return new Promise(function(){var e=Object(E.a)(h.a.mark(function e(t,n){var a,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/proxyMovies");case 2:a=e.sent,r=a.data.subjects,t(r);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},w=function(e){return new Promise(function(){var t=Object(E.a)(h.a.mark(function t(n){var a,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/proxyDetail/".concat(e));case 2:a=t.sent,r=a.data,n(r);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},y=n(61);n(53);var j=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("span",{className:"header-left",onClick:function(){f.goBack()}},"<"),r.a.createElement("div",null,e.name))};n(54);var O=Object(y.a)(function(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],i=n[1];Object(a.useEffect)(function(){k().then(function(e){i(e)}).catch(function(e){return console.error(e)})},[]);var o=function(t,n){var a=e.history,r="/subject/".concat(t.id);n>=0&&(r="/subject/".concat(t.id,"?v=").concat(n)),a.push({pathname:r})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{name:"List"}),r.a.createElement("div",{className:"movie"},c.map(function(e){return r.a.createElement(v,{onClick:function(){return o(e)},onTitleClick:function(){return o(e,Math.ceil(10*Math.random()))},data:e,key:e.id})})))});var C=Object(y.a)(function(e){var t=Object(a.useState)({images:{},genres:[],aka:[]}),n=Object(p.a)(t,2),c=n[0],i=n[1],o=function(){var t=Object(E.a)(h.a.mark(function t(){var n,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match,t.next=3,w(n.params.id);case 3:(a=t.sent)&&i(a);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){o()},[]),c?r.a.createElement("div",null,r.a.createElement(j,{name:c.title}),c.images&&r.a.createElement("img",{src:c.images.medium,alt:c.title}),r.a.createElement("p",null,c.title),r.a.createElement("p",null,c.genres.map(function(e,t){return r.a.createElement("span",{key:t},e)})),r.a.createElement("p",null,c.aka.map(function(e,t){return r.a.createElement("span",{key:t},e)}))):null});var x=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{history:f},r.a.createElement(u.a,null,r.a.createElement(l.a,{path:"/movies",component:O}),r.a.createElement(l.a,{path:"/subject/:id",component:C}),r.a.createElement(l.a,{path:"/",render:function(){return r.a.createElement(s.a,{to:"/movies"})}}))))};var B=function(){return r.a.createElement(x,null)};i.a.render(r.a.createElement(B,null),document.getElementById("root"));"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(function(e){return console.log("Service Worker \u6ce8\u518c\u6210\u529f"),function(e,t){var n={userVisibleOnly:!0,applicationServerKey:window.urlBase64ToUint8Array(t)};if(e&&e.pushManager)return e.pushManager.subscribe(n).then(function(e){return console.log("Received PushSubscription"),e})}(e,"BL8r5BALDYTeDIbzCS43r22IhdHZsaj1Ads1-9ouLDZSi9yveDlM8VyQdbez-0Qwuo8GhBPG89y1hyUY_5fVdhs")}).then(function(e){console.log("\u8ba2\u9605\u6210\u529f")}),window.urlBase64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}}},[[24,1,2]]]);
//# sourceMappingURL=main.fcc8c619.chunk.js.map